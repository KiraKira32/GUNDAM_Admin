import{_ as p,o as n,c as i,a as s,w as _,b as c,v as u}from"./index-2cdc5002.js";const m="/GUNDAM_Admin/assets/logo_icon-f2484d80.png";const h={components:{},data(){return{title:"",date:"",message:"",showToast:!1,isLoading:!1,user:{username:"",password:""}}},methods:{login(){const a="https://vue3-course-api.hexschool.io/v2/admin/signin";this.isLoading=!0,this.$http.post(a,this.user).then(t=>{const{expired:r,token:l}=t.data;document.cookie=`hexToken=${l};expires=${new Date(r)};`,this.title="登入成功",this.date=new Date().toLocaleString(),this.message="歡迎回來！",this.showToast=!0,this.$router.push("/admin/products")}).catch(()=>{this.title="登入失敗",this.date=new Date().toLocaleString(),this.message="請檢查帳號密碼是否正確",this.showToast=!0})}}},g={class:"container container-block d-flex justify-content-center align-items-center vh-100"},f={class:"login"},b=s("div",{class:"d-flex justify-content-center"},[s("img",{class:"img-logo-icon",src:m,alt:""})],-1),w={class:"form-block"},v=s("h3",{class:"text-center py-4 font-weight-normal"},"管理員登入",-1),x={class:"input-block col-10 mx-auto"},y={class:"form-floating mb-3"},k=s("label",{for:"floatingInput"},"Email address",-1),L={class:"form-floating"},D=s("label",{for:"floatingPassword"},"Password",-1),T={class:"d-flex gap-3"},V=s("button",{class:"btn btn-lg btn-outline-danger w-100 mt-3 disabled",type:"submit"}," 忘記密碼 ",-1),P=["disabled"],B={key:0},M={key:1,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"};function S(a,t,r,l,e,d){return n(),i("div",g,[s("div",f,[b,s("div",w,[v,s("div",x,[s("form",{class:"form-signin",onSubmit:t[2]||(t[2]=_((...o)=>d.login&&d.login(...o),["prevent"]))},[s("div",y,[c(s("input",{type:"email",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=o=>e.user.username=o),id:"floatingInput",placeholder:"name@example.com",required:"",autofocus:""},null,512),[[u,e.user.username]]),k]),s("div",L,[c(s("input",{type:"password",class:"form-control","onUpdate:modelValue":t[1]||(t[1]=o=>e.user.password=o),id:"floatingPassword",placeholder:"Password",required:""},null,512),[[u,e.user.password]]),D]),s("div",T,[V,s("button",{class:"btn btn-lg btn-danger w-100 mt-3",type:"submit",disabled:e.isLoading},[e.isLoading===!1?(n(),i("span",B,"登入")):(n(),i("span",M))],8,P)])],32)])])])])}const j=p(h,[["render",S]]);export{j as default};
